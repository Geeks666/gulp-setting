'use strict';

require.config({
  baseUrl: '../',
  paths: {
    'platformConf': 'public/js/platformConf-541e3fb1ce.js'
  }
});
require(['platformConf'], function (configpaths) {
  // configpaths.paths.dialog = "myspace/js/appDialog.js";
  require.config(configpaths);
  define('', ['jquery', 'template', 'layer', 'page', 'service', 'tools', 'banner', 'textScroll', 'tab', 'ajaxBanner', 'secondNav', 'footer', 'header'], function ($, template, layer, Page, service, tools, banner, textScroll, tab, ajaxBanner, secondNav, footer, header) {
    var pageSize = 20;
    var currentPage = 1;
    getActivityRank($(".content_table"), 'activityRank', pageSize, currentPage);

    /**
     * 活动热度排行榜
     * @param $obj : 内容容器
     * @param temId : 模板ID
     * @param pageSize
     * @param currentPage
     */
    function getActivityRank($obj, temId, pageSize, currentPage) {
      var $data = {
        'pageSize': pageSize,
        'currentPage': currentPage
      };
      $.ajax({
        url: service.htmlHost + '/pf/api/direct/activity_heatAct',
        type: 'GET',
        data: $data,
        success: function success(data) {
          if (data && data.code == "success") {
            var html = "";
            if (data.data && data.data.datalist && data.data.datalist.length > 0) {
              html = template(temId, {
                'data': data.data.datalist,
                'currentPage': currentPage - 1,
                'pageSize': pageSize
              });
            } else {
              html = showprompt();
            }
            $obj.html(html);
            if (currentPage == 1) {
              $("#pageTool").html("");
              renderPage('pageTool', data.data.page.totalCount, data.data.page.pageSize);
            }
          } else {
            layer.alert(data.msg, { icon: 0 });
          }
        },
        error: function error(data) {
          layer.alert("获取活动热度排行榜异常。", { icon: 0 });
        }
      });
    };

    /**
     * 参与学校排行榜
     * @param $obj : 内容容器
     * @param temId : 模板ID
     * @param pageSize
     * @param currentPage
     */
    function getActivitySchool($obj, temId, pageSize, currentPage) {
      var $data = {
        'pageSize': pageSize,
        'currentPage': currentPage
      };
      $.ajax({
        url: service.htmlHost + '/pf/api/direct/activity_school',
        type: 'GET',
        data: $data,
        success: function success(data) {
          if (data && data.code == "success") {
            var html = "";
            if (data.data && data.data.datalist && data.data.datalist.length > 0) {
              html = template(temId, {
                'data': data.data.datalist,
                'currentPage': currentPage - 1,
                'pageSize': pageSize
              });
            } else {
              html = showprompt();
            }
            $obj.html(html);
            if (currentPage == 1) {
              $("#pageTool").html("");
              renderPage('pageTool', data.data.page.totalCount, data.data.page.pageSize);
            }
          } else {
            layer.alert(data.msg, { icon: 0 });
          }
        },
        error: function error(data) {
          layer.alert("获取参与学校排行榜异常。", { icon: 0 });
        }
      });
    };

    /**
     * 作品热度排行榜
     * @param $obj : 内容容器
     * @param temId : 模板ID
     * @param pageSize
     * @param currentPage
     * @param softFile : 1:viewCount 浏览量 2: commentCount 评论数 必填
     */
    function getWorksRank($obj, temId, pageSize, currentPage, softFile) {
      var $data = {
        'pageSize': pageSize,
        'currentPage': currentPage,
        'softFile': softFile
      };
      $.ajax({
        url: service.htmlHost + '/pf/api/direct/activity_heatWork',
        type: 'GET',
        data: $data,
        success: function success(data) {
          if (data && data.code == "success") {
            var html = "";
            if (data.data && data.data.datalist && data.data.datalist.length > 0) {
              html = template(temId, {
                'data': data.data.datalist,
                'currentPage': currentPage - 1,
                'pageSize': pageSize
              });
            } else {
              html = showprompt();
            }
            $obj.html(html);
            if (currentPage == 1) {
              $("#pageTool").html("");
              renderPage('pageTool', data.data.page.totalCount, data.data.page.pageSize, getWorksRank, $obj, temId, softFile);
            }
          } else {
            layer.alert(data.msg, { icon: 0 });
          }
        },
        error: function error(data) {
          layer.alert("获取作品热度排行榜异常。", { icon: 0 });
        }
      });
    };

    //翻页
    function renderPage(domId, total, pageSize, _callback, $obj, temId, softFile) {
      var p = new Page();
      p.init({
        target: '#' + domId,
        pagesize: pageSize,
        pageCount: 8,
        count: total,
        callback: function callback(current) {
          _callback($obj, temId, pageSize, current, softFile);
        }
      });
    }

    /**
     * 公用没有内容方法
     * @returns {string}
     */
    function showprompt() {
      return "<p id='no-content'>没有您查看的内容</p>";
    };
    template.helper('dateRound', function (date) {
      var value = Math.round(parseFloat(date) * 100) / 100;
      var xsd = value.toString().split(".");
      if (xsd.length == 1) {
        value = value.toString() + ".00";
        return value;
      }
      if (xsd.length > 1) {
        if (xsd[1].length < 2) {
          value = value.toString() + "0";
        }
        return value;
      }
    });
    $("body").delegate('.content_title ul li', 'click', function (e) {
      e.stopPropagation();
      if (!$(this).hasClass('active')) {
        $(this).addClass('active').siblings("li").removeClass('active');
        if ($(this).index() == 0) {
          $(".content_nav").hide();
          getActivityRank($(".content_table"), 'activityRank', pageSize, currentPage);
        } else if ($(this).index() == 1) {
          $(".content_nav").hide();
          getActivitySchool($(".content_table"), 'schoolRank', pageSize, currentPage);
        } else if ($(this).index() == 2) {
          $(".content_nav").show();
          getWorksRank($(".content_table"), 'worksRank', pageSize, currentPage, 1);
        }
      }
    });
    $("body").delegate('.content_nav a', 'click', function (e) {
      e.stopPropagation();
      if (!$(this).hasClass('active')) {
        $(this).addClass('active').siblings("a").removeClass('active');
        getWorksRank($(".content_table"), 'worksRank', pageSize, currentPage, $(this).attr("data-value"));
      }
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJhbmsvanMvYWN0aXZpdHlSYW5rLmpzIl0sIm5hbWVzIjpbInJlcXVpcmUiLCJjb25maWciLCJiYXNlVXJsIiwicGF0aHMiLCJjb25maWdwYXRocyIsImRlZmluZSIsIiQiLCJ0ZW1wbGF0ZSIsImxheWVyIiwiUGFnZSIsInNlcnZpY2UiLCJ0b29scyIsImJhbm5lciIsInRleHRTY3JvbGwiLCJ0YWIiLCJhamF4QmFubmVyIiwic2Vjb25kTmF2IiwiZm9vdGVyIiwiaGVhZGVyIiwicGFnZVNpemUiLCJjdXJyZW50UGFnZSIsImdldEFjdGl2aXR5UmFuayIsIiRvYmoiLCJ0ZW1JZCIsIiRkYXRhIiwiYWpheCIsInVybCIsImh0bWxIb3N0IiwidHlwZSIsImRhdGEiLCJzdWNjZXNzIiwiY29kZSIsImh0bWwiLCJkYXRhbGlzdCIsImxlbmd0aCIsInNob3dwcm9tcHQiLCJyZW5kZXJQYWdlIiwicGFnZSIsInRvdGFsQ291bnQiLCJhbGVydCIsIm1zZyIsImljb24iLCJlcnJvciIsImdldEFjdGl2aXR5U2Nob29sIiwiZ2V0V29ya3NSYW5rIiwic29mdEZpbGUiLCJkb21JZCIsInRvdGFsIiwiY2FsbGJhY2siLCJwIiwiaW5pdCIsInRhcmdldCIsInBhZ2VzaXplIiwicGFnZUNvdW50IiwiY291bnQiLCJjdXJyZW50IiwiaGVscGVyIiwiZGF0ZSIsInZhbHVlIiwiTWF0aCIsInJvdW5kIiwicGFyc2VGbG9hdCIsInhzZCIsInRvU3RyaW5nIiwic3BsaXQiLCJkZWxlZ2F0ZSIsImUiLCJzdG9wUHJvcGFnYXRpb24iLCJoYXNDbGFzcyIsImFkZENsYXNzIiwic2libGluZ3MiLCJyZW1vdmVDbGFzcyIsImluZGV4IiwiaGlkZSIsInNob3ciLCJhdHRyIl0sIm1hcHBpbmdzIjoiOztBQUFBQSxRQUFRQyxNQUFSLENBQWU7QUFDYkMsV0FBUyxLQURJO0FBRWJDLFNBQU87QUFDTCxvQkFBZ0I7QUFEWDtBQUZNLENBQWY7QUFNQUgsUUFBUSxDQUFDLGNBQUQsQ0FBUixF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QUFGO0FBQ0EsVUFBSSxDQUFDN0QsRUFBRSxJQUFGLEVBQVE4RCxRQUFSLENBQWlCLFFBQWpCLENBQUwsRUFBaUM7QUFDL0I5RCxVQUFFLElBQUYsRUFBUStELFFBQVIsQ0FBaUIsUUFBakIsRUFBMkJDLFFBQTNCLENBQW9DLEdBQXBDLEVBQXlDQyxXQUF6QyxDQUFxRCxRQUFyRDtBQUNBM0IscUJBQWF0QyxFQUFFLGdCQUFGLENBQWIsRUFBa0MsV0FBbEMsRUFBK0NhLFFBQS9DLEVBQXlEQyxXQUF6RCxFQUFzRWQsRUFBRSxJQUFGLEVBQVFxRSxJQUFSLENBQWEsWUFBYixDQUF0RTtBQUNEO0FBQ0YsS0FORDtBQVFELEdBck1IO0FBc01ELENBek1EIiwiZmlsZSI6InJhbmsvanMvYWN0aXZpdHlSYW5rLTQ0YzJhZjJmMDcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlLmNvbmZpZyh7XHJcbiAgYmFzZVVybDogJy4uLycsXHJcbiAgcGF0aHM6IHtcclxuICAgICdwbGF0Zm9ybUNvbmYnOiAncHVibGljL2pzL3BsYXRmb3JtQ29uZi5qcydcclxuICB9XHJcbn0pO1xyXG5yZXF1aXJlKFsncGxhdGZvcm1Db25mJ10sIGZ1bmN0aW9uIChjb25maWdwYXRocykge1xyXG4gIC8vIGNvbmZpZ3BhdGhzLnBhdGhzLmRpYWxvZyA9IFwibXlzcGFjZS9qcy9hcHBEaWFsb2cuanNcIjtcclxuICByZXF1aXJlLmNvbmZpZyhjb25maWdwYXRocyk7XHJcbiAgZGVmaW5lKCcnLCBbJ2pxdWVyeScsICd0ZW1wbGF0ZScsICdsYXllcicsICdwYWdlJywgJ3NlcnZpY2UnLCAndG9vbHMnLCAnYmFubmVyJywgJ3RleHRTY3JvbGwnLCAndGFiJywgJ2FqYXhCYW5uZXInLCAnc2Vjb25kTmF2JywgJ2Zvb3RlcicsICdoZWFkZXInXSxcclxuICAgIGZ1bmN0aW9uICgkLCB0ZW1wbGF0ZSwgbGF5ZXIsIFBhZ2UsIHNlcnZpY2UsIHRvb2xzLCBiYW5uZXIsIHRleHRTY3JvbGwsIHRhYiwgYWpheEJhbm5lciwgc2Vjb25kTmF2LCBmb290ZXIsIGhlYWRlcikge1xyXG4gICAgICB2YXIgcGFnZVNpemUgPSAyMDtcclxuICAgICAgdmFyIGN1cnJlbnRQYWdlID0gMTtcclxuICAgICAgZ2V0QWN0aXZpdHlSYW5rKCQoXCIuY29udGVudF90YWJsZVwiKSwgJ2FjdGl2aXR5UmFuaycsIHBhZ2VTaXplLCBjdXJyZW50UGFnZSk7XHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIOa0u+WKqOeDreW6puaOkuihjOamnFxyXG4gICAgICAgKiBAcGFyYW0gJG9iaiA6IOWGheWuueWuueWZqFxyXG4gICAgICAgKiBAcGFyYW0gdGVtSWQgOiDmqKHmnb9JRFxyXG4gICAgICAgKiBAcGFyYW0gcGFnZVNpemVcclxuICAgICAgICogQHBhcmFtIGN1cnJlbnRQYWdlXHJcbiAgICAgICAqL1xyXG4gICAgICBmdW5jdGlvbiBnZXRBY3Rpdml0eVJhbmsoJG9iaiwgdGVtSWQsIHBhZ2VTaXplLCBjdXJyZW50UGFnZSkge1xyXG4gICAgICAgIHZhciAkZGF0YSA9IHtcclxuICAgICAgICAgICdwYWdlU2l6ZSc6IHBhZ2VTaXplLFxyXG4gICAgICAgICAgJ2N1cnJlbnRQYWdlJzogY3VycmVudFBhZ2VcclxuICAgICAgICB9O1xyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICB1cmw6IHNlcnZpY2UuaHRtbEhvc3QgKyAnL3BmL2FwaS9kaXJlY3QvYWN0aXZpdHlfaGVhdEFjdCcsXHJcbiAgICAgICAgICB0eXBlOiAnR0VUJyxcclxuICAgICAgICAgIGRhdGE6ICRkYXRhLFxyXG4gICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5jb2RlID09IFwic3VjY2Vzc1wiKSB7XHJcbiAgICAgICAgICAgICAgdmFyIGh0bWwgPSBcIlwiO1xyXG4gICAgICAgICAgICAgIGlmIChkYXRhLmRhdGEgJiYgZGF0YS5kYXRhLmRhdGFsaXN0ICYmIGRhdGEuZGF0YS5kYXRhbGlzdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBodG1sID0gdGVtcGxhdGUodGVtSWQsIHtcclxuICAgICAgICAgICAgICAgICAgJ2RhdGEnOiBkYXRhLmRhdGEuZGF0YWxpc3QsXHJcbiAgICAgICAgICAgICAgICAgICdjdXJyZW50UGFnZSc6IGN1cnJlbnRQYWdlIC0gMSxcclxuICAgICAgICAgICAgICAgICAgJ3BhZ2VTaXplJzogcGFnZVNpemVcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBodG1sID0gc2hvd3Byb21wdCgpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAkb2JqLmh0bWwoaHRtbCk7XHJcbiAgICAgICAgICAgICAgaWYgKGN1cnJlbnRQYWdlID09IDEpIHtcclxuICAgICAgICAgICAgICAgICQoXCIjcGFnZVRvb2xcIikuaHRtbChcIlwiKTtcclxuICAgICAgICAgICAgICAgIHJlbmRlclBhZ2UoJ3BhZ2VUb29sJywgZGF0YS5kYXRhLnBhZ2UudG90YWxDb3VudCwgZGF0YS5kYXRhLnBhZ2UucGFnZVNpemUpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBsYXllci5hbGVydChkYXRhLm1zZywge2ljb246IDB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICBsYXllci5hbGVydChcIuiOt+WPlua0u+WKqOeDreW6puaOkuihjOamnOW8guW4uOOAglwiLCB7aWNvbjogMH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIOWPguS4juWtpuagoeaOkuihjOamnFxyXG4gICAgICAgKiBAcGFyYW0gJG9iaiA6IOWGheWuueWuueWZqFxyXG4gICAgICAgKiBAcGFyYW0gdGVtSWQgOiDmqKHmnb9JRFxyXG4gICAgICAgKiBAcGFyYW0gcGFnZVNpemVcclxuICAgICAgICogQHBhcmFtIGN1cnJlbnRQYWdlXHJcbiAgICAgICAqL1xyXG4gICAgICBmdW5jdGlvbiBnZXRBY3Rpdml0eVNjaG9vbCgkb2JqLCB0ZW1JZCwgcGFnZVNpemUsIGN1cnJlbnRQYWdlKSB7XHJcbiAgICAgICAgdmFyICRkYXRhID0ge1xyXG4gICAgICAgICAgJ3BhZ2VTaXplJzogcGFnZVNpemUsXHJcbiAgICAgICAgICAnY3VycmVudFBhZ2UnOiBjdXJyZW50UGFnZVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgIHVybDogc2VydmljZS5odG1sSG9zdCArICcvcGYvYXBpL2RpcmVjdC9hY3Rpdml0eV9zY2hvb2wnLFxyXG4gICAgICAgICAgdHlwZTogJ0dFVCcsXHJcbiAgICAgICAgICBkYXRhOiAkZGF0YSxcclxuICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhICYmIGRhdGEuY29kZSA9PSBcInN1Y2Nlc3NcIikge1xyXG4gICAgICAgICAgICAgIHZhciBodG1sID0gXCJcIjtcclxuICAgICAgICAgICAgICBpZiAoZGF0YS5kYXRhICYmIGRhdGEuZGF0YS5kYXRhbGlzdCAmJiBkYXRhLmRhdGEuZGF0YWxpc3QubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgaHRtbCA9IHRlbXBsYXRlKHRlbUlkLCB7XHJcbiAgICAgICAgICAgICAgICAgICdkYXRhJzogZGF0YS5kYXRhLmRhdGFsaXN0LFxyXG4gICAgICAgICAgICAgICAgICAnY3VycmVudFBhZ2UnOiBjdXJyZW50UGFnZSAtIDEsXHJcbiAgICAgICAgICAgICAgICAgICdwYWdlU2l6ZSc6IHBhZ2VTaXplXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaHRtbCA9IHNob3dwcm9tcHQoKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgJG9iai5odG1sKGh0bWwpO1xyXG4gICAgICAgICAgICAgIGlmIChjdXJyZW50UGFnZSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAkKFwiI3BhZ2VUb29sXCIpLmh0bWwoXCJcIik7XHJcbiAgICAgICAgICAgICAgICByZW5kZXJQYWdlKCdwYWdlVG9vbCcsIGRhdGEuZGF0YS5wYWdlLnRvdGFsQ291bnQsIGRhdGEuZGF0YS5wYWdlLnBhZ2VTaXplKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgbGF5ZXIuYWxlcnQoZGF0YS5tc2csIHtpY29uOiAwfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgbGF5ZXIuYWxlcnQoXCLojrflj5blj4LkuI7lrabmoKHmjpLooYzmppzlvILluLjjgIJcIiwge2ljb246IDB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiDkvZzlk4Hng63luqbmjpLooYzmppxcclxuICAgICAgICogQHBhcmFtICRvYmogOiDlhoXlrrnlrrnlmahcclxuICAgICAgICogQHBhcmFtIHRlbUlkIDog5qih5p2/SURcclxuICAgICAgICogQHBhcmFtIHBhZ2VTaXplXHJcbiAgICAgICAqIEBwYXJhbSBjdXJyZW50UGFnZVxyXG4gICAgICAgKiBAcGFyYW0gc29mdEZpbGUgOiAxOnZpZXdDb3VudCDmtY/op4jph48gMjogY29tbWVudENvdW50IOivhOiuuuaVsCDlv4XloatcclxuICAgICAgICovXHJcbiAgICAgIGZ1bmN0aW9uIGdldFdvcmtzUmFuaygkb2JqLCB0ZW1JZCwgcGFnZVNpemUsIGN1cnJlbnRQYWdlLCBzb2Z0RmlsZSkge1xyXG4gICAgICAgIHZhciAkZGF0YSA9IHtcclxuICAgICAgICAgICdwYWdlU2l6ZSc6IHBhZ2VTaXplLFxyXG4gICAgICAgICAgJ2N1cnJlbnRQYWdlJzogY3VycmVudFBhZ2UsXHJcbiAgICAgICAgICAnc29mdEZpbGUnOiBzb2Z0RmlsZVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgIHVybDogc2VydmljZS5odG1sSG9zdCArICcvcGYvYXBpL2RpcmVjdC9hY3Rpdml0eV9oZWF0V29yaycsXHJcbiAgICAgICAgICB0eXBlOiAnR0VUJyxcclxuICAgICAgICAgIGRhdGE6ICRkYXRhLFxyXG4gICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5jb2RlID09IFwic3VjY2Vzc1wiKSB7XHJcbiAgICAgICAgICAgICAgdmFyIGh0bWwgPSBcIlwiO1xyXG4gICAgICAgICAgICAgIGlmIChkYXRhLmRhdGEgJiYgZGF0YS5kYXRhLmRhdGFsaXN0ICYmIGRhdGEuZGF0YS5kYXRhbGlzdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBodG1sID0gdGVtcGxhdGUodGVtSWQsIHtcclxuICAgICAgICAgICAgICAgICAgJ2RhdGEnOiBkYXRhLmRhdGEuZGF0YWxpc3QsXHJcbiAgICAgICAgICAgICAgICAgICdjdXJyZW50UGFnZSc6IGN1cnJlbnRQYWdlIC0gMSxcclxuICAgICAgICAgICAgICAgICAgJ3BhZ2VTaXplJzogcGFnZVNpemVcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBodG1sID0gc2hvd3Byb21wdCgpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAkb2JqLmh0bWwoaHRtbCk7XHJcbiAgICAgICAgICAgICAgaWYgKGN1cnJlbnRQYWdlID09IDEpIHtcclxuICAgICAgICAgICAgICAgICQoXCIjcGFnZVRvb2xcIikuaHRtbChcIlwiKTtcclxuICAgICAgICAgICAgICAgIHJlbmRlclBhZ2UoJ3BhZ2VUb29sJywgZGF0YS5kYXRhLnBhZ2UudG90YWxDb3VudCwgZGF0YS5kYXRhLnBhZ2UucGFnZVNpemUsIGdldFdvcmtzUmFuaywgJG9iaiwgdGVtSWQsIHNvZnRGaWxlKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgbGF5ZXIuYWxlcnQoZGF0YS5tc2csIHtpY29uOiAwfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgbGF5ZXIuYWxlcnQoXCLojrflj5bkvZzlk4Hng63luqbmjpLooYzmppzlvILluLjjgIJcIiwge2ljb246IDB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8v57+76aG1XHJcbiAgICAgIGZ1bmN0aW9uIHJlbmRlclBhZ2UoZG9tSWQsIHRvdGFsLCBwYWdlU2l6ZSwgY2FsbGJhY2ssICRvYmosIHRlbUlkLCBzb2Z0RmlsZSkge1xyXG4gICAgICAgIHZhciBwID0gbmV3IFBhZ2UoKTtcclxuICAgICAgICBwLmluaXQoe1xyXG4gICAgICAgICAgdGFyZ2V0OiAnIycgKyBkb21JZCxcclxuICAgICAgICAgIHBhZ2VzaXplOiBwYWdlU2l6ZSxcclxuICAgICAgICAgIHBhZ2VDb3VudDogOCxcclxuICAgICAgICAgIGNvdW50OiB0b3RhbCxcclxuICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoY3VycmVudCkge1xyXG4gICAgICAgICAgICBjYWxsYmFjaygkb2JqLCB0ZW1JZCwgcGFnZVNpemUsIGN1cnJlbnQsIHNvZnRGaWxlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIOWFrOeUqOayoeacieWGheWuueaWueazlVxyXG4gICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAgICAgKi9cclxuICAgICAgZnVuY3Rpb24gc2hvd3Byb21wdCgpIHtcclxuICAgICAgICByZXR1cm4gXCI8cCBpZD0nbm8tY29udGVudCc+5rKh5pyJ5oKo5p+l55yL55qE5YaF5a65PC9wPlwiO1xyXG4gICAgICB9O1xyXG4gICAgICB0ZW1wbGF0ZS5oZWxwZXIoJ2RhdGVSb3VuZCcsIGZ1bmN0aW9uIChkYXRlKSB7XHJcbiAgICAgICAgdmFyIHZhbHVlID0gTWF0aC5yb3VuZChwYXJzZUZsb2F0KGRhdGUpICogMTAwKSAvIDEwMDtcclxuICAgICAgICB2YXIgeHNkID0gdmFsdWUudG9TdHJpbmcoKS5zcGxpdChcIi5cIik7XHJcbiAgICAgICAgaWYgKHhzZC5sZW5ndGggPT0gMSkge1xyXG4gICAgICAgICAgdmFsdWUgPSB2YWx1ZS50b1N0cmluZygpICsgXCIuMDBcIjtcclxuICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHhzZC5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICBpZiAoeHNkWzFdLmxlbmd0aCA8IDIpIHtcclxuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS50b1N0cmluZygpICsgXCIwXCI7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgJChcImJvZHlcIikuZGVsZWdhdGUoJy5jb250ZW50X3RpdGxlIHVsIGxpJywgJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIGlmICghJCh0aGlzKS5oYXNDbGFzcygnYWN0aXZlJykpIHtcclxuICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpLnNpYmxpbmdzKFwibGlcIikucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgaWYgKCQodGhpcykuaW5kZXgoKSA9PSAwKSB7XHJcbiAgICAgICAgICAgICQoXCIuY29udGVudF9uYXZcIikuaGlkZSgpO1xyXG4gICAgICAgICAgICBnZXRBY3Rpdml0eVJhbmsoJChcIi5jb250ZW50X3RhYmxlXCIpLCAnYWN0aXZpdHlSYW5rJywgcGFnZVNpemUsIGN1cnJlbnRQYWdlKTtcclxuICAgICAgICAgIH0gZWxzZSBpZiAoJCh0aGlzKS5pbmRleCgpID09IDEpIHtcclxuICAgICAgICAgICAgJChcIi5jb250ZW50X25hdlwiKS5oaWRlKCk7XHJcbiAgICAgICAgICAgIGdldEFjdGl2aXR5U2Nob29sKCQoXCIuY29udGVudF90YWJsZVwiKSwgJ3NjaG9vbFJhbmsnLCBwYWdlU2l6ZSwgY3VycmVudFBhZ2UpO1xyXG4gICAgICAgICAgfSBlbHNlIGlmICgkKHRoaXMpLmluZGV4KCkgPT0gMikge1xyXG4gICAgICAgICAgICAkKFwiLmNvbnRlbnRfbmF2XCIpLnNob3coKTtcclxuICAgICAgICAgICAgZ2V0V29ya3NSYW5rKCQoXCIuY29udGVudF90YWJsZVwiKSwgJ3dvcmtzUmFuaycsIHBhZ2VTaXplLCBjdXJyZW50UGFnZSwgMSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgJChcImJvZHlcIikuZGVsZWdhdGUoJy5jb250ZW50X25hdiBhJywgJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIGlmICghJCh0aGlzKS5oYXNDbGFzcygnYWN0aXZlJykpIHtcclxuICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpLnNpYmxpbmdzKFwiYVwiKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICBnZXRXb3Jrc1JhbmsoJChcIi5jb250ZW50X3RhYmxlXCIpLCAnd29ya3NSYW5rJywgcGFnZVNpemUsIGN1cnJlbnRQYWdlLCAkKHRoaXMpLmF0dHIoXCJkYXRhLXZhbHVlXCIpKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIH0pO1xyXG59KVxyXG5cclxuXHJcblxyXG4iXX0=
