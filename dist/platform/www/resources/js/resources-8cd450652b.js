"use strict";require.config({baseUrl:"../",paths:{platformConf:"public/js/platformConf-6e48d40e05.js"}}),require(["platformConf"],function(e){require.config(e),define("",["jquery","template","echarts","service","footer","header","tool"],function(e,t,a,i,s,r,n){function c(a,s,r){e.ajax({url:i.prefix+"/pf/api/direct/resI_ugcShareResource?orgCode="+i.appIds.byqjyjg_appId+"&type="+r+"&pageNum=1&pageSize=8",type:"GET",success:function(e){if(e&&1==e.success){var i;if(e.data&&e.data.length>0){for(var r=0;r<e.data.length;r++){var n=/[.]/.exec(e.data[r].title)?/[^.]+$/.exec(e.data[r].title.toLowerCase()):"";e.data[r].pic=g(n[0])}i=t(s,e)}else i="<p id='no-content'>没有您查看的内容</p>";a.html(i)}else layer.alert("获取资源分享异常",{icon:0})},error:function(e){layer.alert("获取资源分享异常。",{icon:0})}})}function p(e){return"http"===i.path_url.download_url.substring(0,4)?i.path_url.download_url.replace("#resid#",e):i.prefix+i.path_url.download_url.replace("#resid#",e)}function l(){new o(e("#dynamic_list"),89,0)}function o(e,t,a){this.target=e,this.target.css({position:"relative"}),this.$li=e.children(),this.length=this.$li.length,this.height=t||50,this.speed=1e3,this.starNum=0;var i=this;this.length>=4&&(this.target.html(this.target.html()+this.target.html()),setTimeout(function(){i.move()},a))}function u(e){for(var t=a.init(document.getElementById("teaAchSta")),i={color:["#56b1f0","#ff666e"],textStyle:{color:"#2f2f2f",fontSize:12},grid:{top:"15%",left:"1%",right:"1%",bottom:"3%",containLabel:!0},legend:{cneter:10,width:400,itemWidth:30,itemHeight:20,textStyle:{color:"#2f2f2f"},data:["上传量","下载量"]},xAxis:[{type:"category",axisLabel:{textStyle:{fontSize:14},formatter:function(e){return n.hideTextByLen(e,12)}},axisLine:{lineStyle:{color:"#c9c9c9"}},axisTick:{show:!1},data:[]}],yAxis:[{type:"value",splitLine:{lineStyle:{color:"#c9c9c9",fontSize:14}},axisLine:{lineStyle:{color:"#c9c9c9"}}}],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},series:[{name:"上传量",type:"bar",barWidth:24,data:[]},{name:"下载量",type:"bar",barWidth:24,data:[]}]},s=0;s<e.data.length;s++)i.xAxis[0].data[s]=e.data[s].orgName,i.series[0].data[s]=e.data[s].downNum,i.series[1].data[s]=e.data[s].downNum;t.setOption(i)}function g(e){switch(e){case"doc":return"../../www/public/images/base/doc-3f7e058d0b.png";case"excel":return"../../www/public/images/base/excel-589050ef85.png";case"docx":return"../../www/public/images/base/docx-3f7e058d0b.png";case"flv":return"../../www/public/images/base/flv-bf731a052d.png";case"gif":return"../../www/public/images/base/gif-c17f02ddba.png";case"html":return"../../www/public/images/base/html-7d28b88d6b.png";case"jpeg":return"../../www/public/images/base/jpeg-c17f02ddba.png";case"jpg":return"../../www/public/images/base/jpg-c17f02ddba.png";case"mp3":return"../../www/public/images/base/mp3-690c3a28e8.png";case"mp4":return"../../www/public/images/base/mp4-690c3a28e8.png";case"pdf":return"../../www/public/images/base/pdf-da18d4c38b.png";case"png":case"tif":return"../../www/public/images/base/png-c17f02ddba.png";case"ppt":return"../../www/public/images/base/ppt-5982f0915e.png";case"pptx":return"../../www/public/images/base/pptx-5982f0915e.png";case"rar":return"../../www/public/images/base/rar-ec58280c30.png";case"rm":return"../../www/public/images/base/rm-ee366f1c35.png";case"swf":return"../../www/public/images/base/swf-bf731a052d.png";case"txt":return"../../www/public/images/base/txt-427b13d312.png";case"wav":return"../../www/public/images/base/wav-fe8afdcf04.png";case"word":return"../../www/public/images/base/word-76d28cb819.png";case"xhtml":return"../../www/public/images/base/xhtml-7d28b88d6b.png";case"xls":return"../../www/public/images/base/xls-589050ef85.png";case"xlsx":return"../../www/public/images/base/xlsx-589050ef85.png";case"zip":return"../../www/public/images/base/zip-ec58280c30.png";case"bmp":return"../../www/public/images/base/bmp-c17f02ddba.png"}}c(e("#resourceShare"),"resourceShare_",""),l(),function(a,s){e.ajax({url:i.prefix+"/pf/api/direct/resI_shareDynamic?orgCode="+i.appIds.byqjyjg_appId+"&pageNum=1&pageSize=10",type:"GET",success:function(e){if(e&&1==e.success){var i;if(e.data&&e.data.length>0){for(var r=0;r<e.data.length;r++){var n=/[.]/.exec(e.data[r].title)?/[^.]+$/.exec(e.data[r].title.toLowerCase()):"";e.data[r].pic=g(n[0])}i=t(s,e)}else i="<p id='no-content'>没有您查看的内容</p>";a.html(i),l()}else layer.alert("获取资源动态异常",{icon:0})},error:function(e){layer.alert("获取资源动态异常。",{icon:0})}})}(e("#dynamic_list"),"dynamic_list_"),function(){var t=e(".teachingLeft ul li"),a=e(".teachingLeft").width()/t.length;t.width(a-1),t.last().css("border-right","none"),t.find("a").click(function(){e(this).addClass("liact").parent().siblings().children().removeClass("liact"),c(e("#resourceShare"),"resourceShare_",e(this).attr("type"))})}(),e("body").delegate("#resourceShare strong","click",function(){window.location=p(e(this).attr("resId"))}),function(){teachingA=a.init(document.getElementById("teaAchSta")),e.ajax({url:i.prefix+"/pf/api/direct/resI_schoolResRanking?orgCode="+i.appIds.byqjyjg_appId+"&pageNum=1&pageSize=8",type:"GET",success:function(e){e&&1==e.success&&u(e)},error:function(e){layer.alert(e.msg,{icon:0})}})}(),o.prototype.move=function(){var e=this;this.starNum++,this.starNum>this.length&&(this.starNum=1,this.target.css("top",0)),this.target.animate({top:"-"+this.starNum*this.height+"px"},this.speed,function(){setTimeout(function(){e.move(e.starNum)},1e3)})}})});