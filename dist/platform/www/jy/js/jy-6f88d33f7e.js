"use strict";require.config({baseUrl:"../",paths:{platformConf:"public/js/platformConf-6e48d40e05.js"}}),require(["platformConf"],function(e){require.config(e),define("",["jquery","template","echarts","service","footer","header","tool"],function(e,t,a,i,s,r,n){function c(e,t,a){this.target=e,this.target.css({position:"relative"}),this.$li=e.children(),this.length=this.$li.length,this.height=t||50,this.speed=1e3,this.starNum=0;var i=this;this.length>=4&&(this.target.html(this.target.html()+this.target.html()),setTimeout(function(){i.move()},a))}function l(e,t){var i=a.init(document.getElementById("teaAchSta")),s={color:["#56b1f0","#ff666e"],textStyle:{color:"#2f2f2f",fontSize:12},grid:{top:"15%",left:"1%",right:"1%",bottom:"3%",containLabel:!0},legend:{cneter:10,width:400,itemWidth:30,itemHeight:20,textStyle:{color:"#2f2f2f"},data:["备课资源","专业成长"]},xAxis:[{type:"category",axisLabel:{textStyle:{fontSize:14},formatter:function(e){return n.hideTextByLen(e,12)}},axisLine:{lineStyle:{color:"#c9c9c9"}},axisTick:{show:!1},data:function(){for(var t=[],a=0;a<e.length;a++)t.push(e[a].orgName);return t}()}],yAxis:[{type:"value",splitLine:{lineStyle:{color:"#c9c9c9",fontSize:14}},axisLine:{lineStyle:{color:"#c9c9c9"}}}],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},series:[{name:"备课资源",type:"bar",barWidth:24,data:function(){for(var t=[],a=0;a<e.length;a++)t.push(e[a].bkzy);return t}()},{name:"专业成长",type:"bar",barWidth:24,data:function(){for(var t=[],a=0;a<e.length;a++)t.push(e[a].zycz);return t}()}]};i.setOption(s)}function p(t){e.ajax({url:i.prefix+"/pf/api/direct/jypt_resultList",type:"GET",data:{limit:8,type:t},success:function(a){if(1==a.code){var i="";if(a.data&&a.data.length>0)for(var s=0;s<a.data.length;s++)i+=5!=t?'<li><img src="'+m(a.data[s].resExt)+'" alt=""><span title="'+a.data[s].planName+'">['+n.hideTextByLen(a.data[s].planName,16)+']</span><strong><a href="'+g(a.data[s].resId)+'">'+a.data[s].resName+"."+a.data[s].resExt+"</a></strong><b>"+o(a.data[s].crtDttm)+"</b><u>"+a.data[s].userName+"</u></li>":'<li><img src="'+m(a.data[s].resExt)+'" alt=""><span title="'+a.data[s].planName+'">['+n.hideTextByLen(a.data[s].planName,16)+"]</span><b>"+o(a.data[s].crtDttm)+"</b><u>"+a.data[s].userName+"</u></li>";else i=u();e(".teachingAchievements ol").html(i)}else layer.alert("获取检验成果数据失败！",{icon:0})},error:function(){layer.alert("获取检验成果数据失败！",{icon:0})}})}function u(){return"<p id='no-content'>没有您查看的内容</p>"}function o(e){var t=e.indexOf(" ");return e=e.slice(0,t)}function g(e){return"http"===i.path_url.download_url.substring(0,4)?i.path_url.download_url.replace("#resid#",e):i.prefix+i.path_url.download_url.replace("#resid#",e)}function m(e){switch(e){case"doc":return"../../www/public/images/base/doc-3f7e058d0b.png";case"excel":return"../../www/public/images/base/excel-589050ef85.png";case"docx":return"../../www/public/images/base/docx-3f7e058d0b.png";case"flv":return"../../www/public/images/base/flv-bf731a052d.png";case"gif":return"../../www/public/images/base/gif-c17f02ddba.png";case"html":return"../../www/public/images/base/html-7d28b88d6b.png";case"jpeg":return"../../www/public/images/base/jpeg-c17f02ddba.png";case"jpg":return"../../www/public/images/base/jpg-c17f02ddba.png";case"mp3":return"../../www/public/images/base/mp3-690c3a28e8.png";case"mp4":return"../../www/public/images/base/mp4-690c3a28e8.png";case"pdf":return"../../www/public/images/base/pdf-da18d4c38b.png";case"png":return"../../www/public/images/base/png-c17f02ddba.png";case"ppt":return"../../www/public/images/base/ppt-5982f0915e.png";case"pptx":return"../../www/public/images/base/pptx-5982f0915e.png";case"rar":return"../../www/public/images/base/rar-ec58280c30.png";case"rm":return"../../www/public/images/base/rm-ee366f1c35.png";case"swf":return"../../www/public/images/base/swf-bf731a052d.png";case"txt":return"../../www/public/images/base/txt-427b13d312.png";case"wav":return"../../www/public/images/base/wav-fe8afdcf04.png";case"word":return"../../www/public/images/base/word-76d28cb819.png";case"xhtml":return"../../www/public/images/base/xhtml-7d28b88d6b.png";case"xls":return"../../www/public/images/base/xls-589050ef85.png";case"xlsx":return"../../www/public/images/base/xlsx-589050ef85.png";case"zip":return"../../www/public/images/base/zip-ec58280c30.png";case"bmp":return"../../www/public/images/base/bmp-c17f02ddba.png"}}p(0),function(t){e.ajax({url:i.prefix+"/pf/api/direct/jypt_sortList",type:"GET",data:{limit:6},success:function(t){if(1==t.code){var a="";if(t.data&&t.data.length>0)for(var i=0;i<t.data.length;i++)a+='<li class="dyn-li"><div class="time">'+o(t.data[i].crtDttm)+'</div><div class="dyn-li-innerbox"><a class="member-pic" target="_blank"><img src='+m(t.data[i].resExt)+' alt="" ></a><div><a class="dyn-name" target="_blank"> '+t.data[i].userName+'</a><p class="message clearFix"> <span>'+t.data[i].resName+"</span>."+t.data[i].resExt+"</p></div></div></li>";else a=u();e("#dynamic_list").html(a),new c(e("#dynamic_list"),89,0)}},error:function(){layer.alert("获取教研动态数据失败！",{icon:0})}})}(),function(){e.ajax({url:i.prefix+"/pf/api/direct/jypt_chartsList",type:"GET",data:{limit:8},success:function(t){1==t.code?l(t.data,e("#teaAchSta")):layer.alert("获取检验成果统计数据失败！",{icon:0})},error:function(){layer.alert("获取检验成果统计数据失败！",{icon:0})}})}(),function(){var t=e(".teachingLeft ul li"),a=e(".teachingLeft").width()/t.length;t.width(a-1),t.last().css("border-right","none"),t.find("a").click(function(){e(this).addClass("liact").parent().siblings().children().removeClass("liact"),p(e(this).attr("data-type"))})}(),c.prototype.move=function(){var e=this;this.starNum++,this.starNum>this.length&&(this.starNum=1,this.target.css("top",0)),this.target.animate({top:"-"+this.starNum*this.height+"px"},this.speed,function(){setTimeout(function(){e.move(e.starNum)},1e3)})}})});